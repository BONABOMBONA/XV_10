<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Invitación XV Años - Dayana Valeria</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Great Vibes', cursive;
            background-color: #f0f8ff;
            text-align: center;
            color: #0a1f44;
            margin: 0;
            padding: 0;
            background-image: url('https://i.pinimg.com/originals/13/1a/6b/131a6b5e7e8a8a8a8a8a8a8a8a8a8a8.jpg');
            background-size: cover;
            background-attachment: fixed;
            -webkit-text-size-adjust: 100%;
        }
        
        .invitacion {
            background-color: rgba(255, 255, 255, 0.95);
            width: 95%;
            max-width: 650px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(10, 31, 68, 0.2);
            border: 3px solid #1e3f8b;
            position: relative;
            overflow: hidden;
        }
        
        .invitacion:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #1e3f8b, #0a1f44, #1e3f8b);
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #1e3f8b;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .fecha-destacada {
            font-family: 'Great Vibes', cursive;
            font-size: 2em;
            color: #1e3f8b;
            margin: 15px 0;
            line-height: 1.2;
        }
        
        .mensaje {
            font-family: 'Raleway', sans-serif;
            font-size: 1em;
            line-height: 1.6;
            margin: 15px 0;
            text-align: center;
            font-style: italic;
            color: #333;
        }
        
        .padres-padrinos {
            display: flex;
            flex-direction: column;
            margin: 20px 0;
        }
        
        .familia, .padrinos {
            font-family: 'Raleway', sans-serif;
            text-align: center;
            padding: 15px;
            background-color: rgba(176, 196, 222, 0.3);
            border-radius: 10px;
            width: 100%;
            margin-bottom: 15px;
        }
        
        .familia strong, .padrinos strong {
            display: block;
            margin-bottom: 8px;
            color: #1e3f8b;
            font-size: 1em;
        }
        
        .cruz {
            position: relative;
            display: inline-block;
        }
        
        .cruz:after {
            content: "✝";
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8em;
            color: #1e3f8b;
        }
        
        .evento {
            font-family: 'Raleway', sans-serif;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
            text-align: center;
            font-weight: 600;
            color: #0a1f44;
        }
        
        .evento-destacado {
            font-family: 'Raleway', sans-serif;
            font-size: 1.3em;
            margin: 15px 0;
            text-align: center;
            font-weight: 700;
            color: #1e3f8b;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .detalles-evento {
            font-family: 'Raleway', sans-serif;
            margin: 10px 0 20px 0;
            text-align: center;
            line-height: 1.6;
            font-size: 1em;
            padding: 0 5px;
        }
        
        .detalles-evento strong {
            color: #1e3f8b;
        }
        
        .lugar {
            font-family: 'Raleway', sans-serif;
            margin: 15px 0;
            text-align: center;
            font-weight: 500;
            line-height: 1.6;
            padding: 15px;
            background-color: rgba(176, 196, 222, 0.3);
            border-radius: 10px;
            font-size: 1em;
        }
        
        .lugar strong {
            color: #1e3f8b;
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
            font-size: 1em;
        }
        
        .decoracion {
            font-size: 2em;
            margin: 10px 0;
            color: #1e3f8b;
            line-height: 0.8;
        }
        
        .nombre {
            font-size: 1.8em;
            margin: 15px 0;
            color: #1e3f8b;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .codigo-vestimenta {
            font-family: 'Raleway', sans-serif;
            margin: 20px 0;
            padding: 12px;
            background-color: rgba(176, 196, 222, 0.3);
            border-radius: 10px;
            font-style: italic;
            font-size: 1em;
        }
        
        .confirmacion {
            font-family: 'Raleway', sans-serif;
            margin-top: 20px;
            font-size: 1em;
            color: #0a1f44;
        }
        
        .nota-vestido {
            font-family: 'Raleway', sans-serif;
            font-size: 0.8em;
            margin-top: 10px;
            font-style: italic;
            color: #1e3f8b;
            display: block;
        }
        
        .boton {
            display: inline-block;
            background-color: #1e3f8b;
            color: white;
            padding: 12px 20px;
            margin: 8px 0;
            border-radius: 5px;
            text-decoration: none;
            font-family: 'Raleway', sans-serif;
            font-weight: 500;
            transition: all 0.3s;
            border: 2px solid transparent;
            width: 100%;
            font-size: 1em;
        }
        
        .boton:hover {
            background-color: white;
            color: #1e3f8b;
            border-color: #1e3f8b;
        }
        
        .boton-confirmar {
            background-color: #1e8b3f;
            margin-top: 15px;
            font-size: 1em;
            padding: 12px 20px;
        }
        
        .boton-confirmar:hover {
            background-color: white;
            color: #1e8b3f;
            border-color: #1e8b3f;
        }
        
        .separador {
            margin: 20px auto;
            width: 80%;
            border-top: 1px dashed #1e3f8b;
            opacity: 0.5;
        }
        
        .formulario {
            font-family: 'Raleway', sans-serif;
            width: 100%;
            margin: 20px auto;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .encabezado-formulario h2 {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 12px;
            text-align: center;
            font-weight: 600;
        }
        
        .acceso-destacado {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background-color: #f5f8ff;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            color: #1e3f8b;
            font-size: 0.8em;
            font-weight: 500;
        }
        
        .grupo-formulario {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .campo-destacado label {
            display: block;
            margin-bottom: 6px;
            color: #333;
            font-size: 0.8em;
            font-weight: 600;
        }
        
        .input-contenedor, .select-contenedor {
            position: relative;
        }
        
        .input-contenedor input, .select-contenedor select {
            width: 100%;
            padding: 12px 15px 12px 40px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            color: #333;
            background-color: #fff;
            transition: border-color 0.3s;
        }
        
        .input-contenedor input:focus, .select-contenedor select:focus {
            border-color: #1e3f8b;
            outline: none;
        }
        
        .input-contenedor svg, .select-contenedor svg {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .select-contenedor select {
            appearance: none;
            -webkit-appearance: none;
            padding-right: 40px;
        }
        
        .boton-elegante {
            width: 100%;
            padding: 14px;
            background-color: #1e3f8b;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .boton-elegante:hover {
            background-color: #16306e;
        }
        
        .loading-animado {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            color: #666;
            font-size: 0.9em;
        }
        
        .spinner {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(30, 63, 139, 0.2);
            border-radius: 50%;
            border-top-color: #1e3f8b;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .mensaje-exito-elegante {
            display: none;
            align-items: center;
            gap: 8px;
            padding: 10px;
            background-color: #f0fff0;
            border: 1px solid #c8e6c9;
            border-radius: 6px;
            color: #2e7d32;
            font-size: 0.8em;
            margin-top: 12px;
        }
        
        .mensaje-exito-elegante svg {
            flex-shrink: 0;
        }

        /* Estilos para el reproductor de música */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(30, 63, 139, 0.9);
            padding: 10px 15px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            color: white;
        }
        
        .music-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .music-btn {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .volume-control {
            width: 80px;
            display: flex;
            align-items: center;
        }
        
        .volume-slider {
            width: 100%;
            margin-left: 5px;
        }

        /* Media queries para tablets y pantallas más grandes */
        @media (min-width: 600px) {
            .invitacion {
                padding: 30px;
                margin: 30px auto;
            }
            
            h1 {
                font-size: 3em;
            }
            
            .nombre {
                font-size: 2.2em;
            }
            
            .fecha-destacada {
                font-size: 2.5em;
            }
            
            .mensaje {
                font-size: 1.1em;
            }
            
            .padres-padrinos {
                flex-direction: row;
            }
            
            .familia, .padrinos {
                width: 48%;
                margin-bottom: 0;
            }
            
            .familia {
                text-align: left;
            }
            
            .padrinos {
                text-align: right;
            }
            
            .boton {
                width: auto;
                padding: 10px 20px;
                margin: 10px 5px;
            }
        }

        @media (max-width: 480px) {
            .music-player {
                bottom: 10px;
                right: 10px;
                padding: 8px 12px;
            }
            
            .volume-control {
                width: 60px;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Reproductor de música flotante -->
    <div class="music-player">
        <div class="music-controls">
            <button id="playPauseBtn" class="music-btn">⏸️</button>
            <div class="volume-control">
                <span class="music-btn">🔊</span>
                <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="0.5">
            </div>
        </div>
    </div>

    <!-- Audio (oculto) -->
    <audio id="bgMusic" autoplay loop>
        <source src="song.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>

    <div class="invitacion">
        <div class="decoracion">✧</div>
        <h1>Mis XV Años</h1>
        <div class="nombre">Dayana Valeria Ávalos Soria</div>
        
        <div class="mensaje">
            Hay historias y personas que no voy a olvidar y recuerdos como este que siempre voy a guardar, por qué son parte de mi vida y mi deseo es compartir con ustedes este día tan especial.
        </div>
        
        <div class="padres-padrinos">
            <div class="familia">
                <strong>Mis padres</strong>
                <span class="cruz">Jesús Javier Ávalos Garcia</span><br>
                Diana Patricia Soria Corona
            </div>
            
            <div class="padrinos">
                <strong>Mis padrinos</strong>
                Juan Pablo Soria Corona<br>
                Diana López Reyes
            </div>
        </div>
        
        <div class="evento-destacado">
            Se complacen en invitarlos el día
        </div>

        <div class="fecha-destacada">
            17 de Mayo de 2025
        </div>
        
        
        <div class="evento">
            A la Ceremonia Religiosa
        </div>
        
        <div class="detalles-evento">
            <strong>Hora:</strong> 16:45 hrs<br>
            <strong>Lugar:</strong> Parroquia de los 12 Apóstoles<br>
            Fuente de Vulcano mz 145 lt 2 sección fuentes Jardines de Morelos
        </div>
        
        <div class="lugar">
            <a href="https://maps.app.goo.gl/wFfdSCx1s7wNPjwm7?g_st=aw" class="boton" target="_blank">Cómo llegar a la Iglesia</a>
        </div>
        
        <div class="separador"></div>
        
        <div class="evento">
           Recepción
        </div>
        
        <div class="detalles-evento">
                <strong>Lugar:</strong> Salón Esmeralda Jardines<br>
                Av. Ferrocarril s/n, entre calle Azaleas y Álvaro Obregón<br>
                Col. Ampliación los Ángeles, Acolman. Edo. de México<br>
                <strong>Hora:</strong> 18:30 hrs<br>
        </div>
        
        <div class="lugar">
            <a href="https://maps.app.goo.gl/ZaEnHFWeeWhGZjBCA" class="boton" target="_blank">Cómo llegar al Salón</a>
        </div>

        <div class="separador"></div>

        <div class="codigo-vestimenta" style="text-align: center;">
            <div style="font-family: 'Raleway', sans-serif; font-size: 1.2em; font-weight: 700; color: #1e3f8b; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px;">
                Código de vestimenta: <span style="color: #0a1f44;">Formal</span>
            </div>
            <span style="font-family: 'Raleway', sans-serif; font-style: italic; font-size: 0.8em; color: #1e3f8b; display: block;">
                El color azul queda exclusivo para la quinceañera
            </span>
            <div style="display: inline-block; margin: 5px 0 0 0; padding: 0;">
                <img src="img.png" alt="Vestimenta formal" style="width: 120px; display: block; margin: 0 auto; border: none; background: transparent;">
            </div>
        </div>

        <div class="separador"></div>
        
        <div class="formulario">
            <div class="encabezado-formulario">
                <h2>Confirmación de Asistencia</h2>
                <label for="apellido">FAVOR DE RESPONDER SOLO UNA VEZ</label>
                <div class="acceso-destacado">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1e3f8b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="8.5" cy="7" r="4"></circle>
                        <line x1="20" y1="8" x2="20" y2="14"></line>
                        <line x1="23" y1="11" x2="17" y2="11"></line>
                    </svg>
                    <span>Acceso para 10 personas</span>
                </div>
            </div>
            
            <div class="grupo-formulario">
                <div class="campo-destacado">
                    <label for="apellido">APELLIDO DE LA FAMILIA</label>
                    <div class="input-contenedor">
                        <input type="text" id="apellido" placeholder="Ejemplo: Soria López" required>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1e3f8b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                </div>
                
                <div class="campo-destacado">
                    <label for="asistentes">NÚMERO DE PERSONAS QUE ASISTIRÁN</label>
                    <div class="select-contenedor">
                        <select id="asistentes" required>
                            <option value="" disabled selected>Seleccione cantidad</option>
                            <option value="1">1 persona</option>
                            <option value="2">2 personas</option>
                            <option value="3">3 personas</option>
                            <option value="4">4 personas</option>
                            <option value="5">5 personas</option>
                            <option value="6">6 personas</option>
                            <option value="7">7 personas</option>
                            <option value="8">8 personas</option>
                            <option value="9">9 personas</option>
                            <option value="10">10 personas</option>
                        </select>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1e3f8b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 8v4l3 3"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
            <div id="loading" class="loading-animado">
                <div class="spinner"></div>
                <span>Procesando confirmación...</span>
            </div>
            
            <button onclick="enviarConfirmacion()" class="boton-elegante">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                CONFIRMAR ASISTENCIA
            </button>
            
            <div id="mensajeExito" class="mensaje-exito-elegante">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#4BB543" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                <div class="texto-exito"></div>
            </div>
        </div>
    </div>

    <script>
        // Control de música con reproducción automática
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('bgMusic');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            
            // Configuración inicial
            audio.volume = volumeSlider.value;
            playPauseBtn.textContent = '⏸️'; // Mostrar pausa porque la música está reproduciéndose
            
            // Estrategia para reproducción automática en móviles
            function enableAutoplay() {
                audio.play().then(() => {
                    console.log("Reproducción automática iniciada");
                    playPauseBtn.textContent = '⏸️';
                }).catch(error => {
                    console.log("Reproducción automática bloqueada:", error);
                    // Mostrar mensaje para interactuar
                    const playButton = document.createElement('button');
                    playButton.textContent = 'Activar música';
                    playButton.className = 'boton';
                    playButton.style.margin = '10px auto';
                    playButton.style.display = 'block';
                    playButton.onclick = function() {
                        audio.play();
                        playPauseBtn.textContent = '⏸️';
                        playButton.remove();
                    };
                    document.querySelector('.invitacion').appendChild(playButton);
                });
            }
            
            // Intenta reproducir inmediatamente
            enableAutoplay();
            
            // También intenta reproducir después de cualquier interacción del usuario
            document.body.addEventListener('click', function() {
                if (audio.paused) {
                    enableAutoplay();
                }
            }, { once: true });
            
            // Control de play/pause
            playPauseBtn.addEventListener('click', function() {
                if (audio.paused) {
                    audio.play();
                    playPauseBtn.textContent = '⏸️';
                } else {
                    audio.pause();
                    playPauseBtn.textContent = '▶️';
                }
            });
            
            // Control de volumen
            volumeSlider.addEventListener('input', function() {
                audio.volume = this.value;
            });
        });

        function enviarConfirmacion() {
            const apellido = document.getElementById('apellido').value.trim();
            const asistentes = document.getElementById('asistentes').value;
            
            if (!apellido || !asistentes) {
                alert('Por favor complete todos los campos');
                return;
            }

            // URL del Google Apps Script que debes crear
            const scriptURL = 'https://script.google.com/macros/s/AKfycbxWFNbAazVwmwdi9wOERdNmk_4W33AfIGnXtdai_COBU0lKH1xkdGT_aFJNduitBrVgbQ/exec';
            
            const loading = document.getElementById('loading');
            const mensajeExito = document.getElementById('mensajeExito');
            const boton = document.querySelector('button');
            
            loading.style.display = 'flex';
            boton.disabled = true;
            
            fetch(scriptURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `apellido=${encodeURIComponent(apellido)}&asistentes=${encodeURIComponent(asistentes)}`
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error en la red');
                }
                return response.json();
            })
            .then(data => {
                if (data.result === 'success') {
                    mensajeExito.querySelector('.texto-exito').textContent = `¡Confirmación exitosa para la familia ${apellido}! (${asistentes} personas)`;
                    mensajeExito.style.display = 'flex';
                    document.getElementById('apellido').value = '';
                    document.getElementById('asistentes').value = '';
                } else {
                    throw new Error(data.message || 'Error en el servidor');
                }
            })
            .catch(error => {
                alert('Error al enviar la confirmación: ' + error.message);
                console.error('Error:', error);
            })
            .finally(() => {
                loading.style.display = 'none';
                boton.disabled = false;
            });
        }
    </script>
</body>
</html>